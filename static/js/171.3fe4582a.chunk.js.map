{"version":3,"file":"static/js/171.3fe4582a.chunk.js","mappings":"8MAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMM,KAAKH,GFInF,CAAgBJ,KAAQ,EAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,wIHIwE,G,iFIJ9F,GAAgB,UAAY,oCAAoC,OAAS,iCAAiC,YAAc,sCAAsC,OAAS,iCAAiC,SAAW,mCAAmC,SAAW,mCAAmC,YAAc,sCAAsC,WAAa,qCAAqC,iBAAmB,4C,SCUvZC,GAAOC,EAAAA,EAAAA,OAAK,kBAAM,gCAClBC,GAAUD,EAAAA,EAAAA,OAAK,kBAAM,iCAErBE,EAAK,IAAIC,EAAAA,EAEA,SAASC,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAaE,EAAAA,EAAAA,UAASF,GAAfG,GAAP,eACA,GAAwBD,EAAAA,EAAAA,WAAS,eAAjC,eAAOE,EAAP,KAAaC,EAAb,KACA,GAAwBH,EAAAA,EAAAA,WAAU,GAAlC,eAAOI,EAAP,KAAaC,EAAb,KACMC,GAAWC,EAAAA,EAAAA,MALwB,wCAOzC,WAA8BN,GAA9B,uFACqBN,EAAGa,eAAeP,GADvC,OACQC,EADR,OAEEC,EAAQD,EAAKA,MAFf,2CAPyC,wBAgBzC,SAASO,EAAYC,GACdA,EAAGC,cAAcC,UAAUC,SAAS,WAAWR,EAAQD,EAAO,GAGrE,IARAU,EAAAA,EAAAA,YAAU,YAZ+B,oCAavCN,CAAeP,KACd,CAACA,KAMCC,EAAM,OAAO,uCAElB,IACEa,EAMEb,EANFa,eACAC,EAKEd,EALFc,cACAC,EAIEf,EAJFe,YACAC,EAGEhB,EAHFgB,aACAC,EAEEjB,EAFFiB,SACAC,EACElB,EADFkB,OAGF,OACE,iBAAKC,UAAWC,EAAAA,UAAhB,WACE,mBACED,UAAWC,EAAAA,OACXC,KAAK,SACLC,QAAS,WACPlB,EAASF,IAJb,6BASA,iBAAKiB,UAAWC,EAAAA,YAAhB,WACE,gBACED,UAAWC,EAAAA,OACXG,IAAG,oEACDT,QADC,IACDA,EAAAA,EAAiBC,GAEnBS,IAAKX,EACLY,MAAM,SAER,iBAAKN,UAAWC,EAAAA,SAAhB,WACE,wBAAKP,KACL,wCAAgBG,MAChB,cAAGG,UAAWC,EAAAA,SAAd,uBACA,uBAAIH,KACJ,cAAGE,UAAWC,EAAAA,SAAd,qBACA,uBAAIF,EAAOQ,QAAO,SAACC,EAAKC,GAAN,kBAAiBD,GAAjB,CAAsBC,EAAGC,SAAO,IAAIC,KAAK,eAG/D,iBAAKX,UAAWC,EAAAA,YAAhB,WACE,SAAC,KAAD,CACED,UAAW,qBAAGY,SACD,CAAC,SAAUX,EAAAA,kBAAoBU,KAAK,KAAOV,EAAAA,YAExDY,GAAE,kBAAajC,EAAb,YACFuB,QAASf,EALX,sBASA,SAAC,KAAD,CACEY,UAAW,qBAAGY,SACD,CAAC,SAAUX,EAAAA,kBAAoBU,KAAK,KAAOV,EAAAA,YAExDY,GAAE,kBAAajC,EAAb,YACFuB,QAASf,EALX,sBAUF,SAAC,EAAA0B,SAAD,CAAUC,UAAU,sCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOC,KAAK,UAAUC,SAAS,SAAC9C,EAAD,OAC/B,SAAC,KAAD,CAAO6C,KAAK,UAAUC,SAAS,SAAC5C,EAAD","sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://react-homework-template/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__VyXai\",\"button\":\"MovieDetailsPage_button__IlAfH\",\"filmWrapper\":\"MovieDetailsPage_filmWrapper__BElxu\",\"poster\":\"MovieDetailsPage_poster__Q+ne9\",\"filmInfo\":\"MovieDetailsPage_filmInfo__u1grk\",\"subTitle\":\"MovieDetailsPage_subTitle__jzIGn\",\"linkWrapper\":\"MovieDetailsPage_linkWrapper__OWTgI\",\"detailLink\":\"MovieDetailsPage_detailLink__f8tV7\",\"activeDetailLink\":\"MovieDetailsPage_activeDetailLink__MpchJ\"};","import { useEffect, useState, Suspense, lazy } from 'react';\nimport {\n  useNavigate,\n  useParams,\n  NavLink,\n  Routes,\n  Route,\n} from 'react-router-dom';\nimport Api from 'Services/Api';\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() => import('components/Cast'));\nconst Reviews = lazy(() => import('components/Reviews'));\n\nconst Ap = new Api();\n\nexport default function MovieDetailsPage() {\n  const { movieId } = useParams();\n  const [id] = useState(movieId);\n  const [data, setData] = useState(() => {});\n  const [page, setPage] = useState(-1);\n  const navigate = useNavigate();\n\n  async function getMovieDetail(id) {\n    const data = await Ap.getMovieDetail(id);\n    setData(data.data);\n  }\n\n  useEffect(() => {\n    getMovieDetail(id);\n  }, [id]);\n\n  function onLinkClick(ev) {\n    if (!ev.currentTarget.classList.contains('active')) setPage(page - 1);\n  }\n\n  if (!data) return <h1>Loading...</h1>;\n\n  const {\n    original_title,\n    backdrop_path,\n    poster_path,\n    vote_average,\n    overview,\n    genres,\n  } = data;\n\n  return (\n    <div className={s.container}>\n      <button\n        className={s.button}\n        type=\"button\"\n        onClick={() => {\n          navigate(page);\n        }}\n      >\n        ‚Üê Go back\n      </button>\n      <div className={s.filmWrapper}>\n        <img\n          className={s.poster}\n          src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2${\n            backdrop_path ?? poster_path\n          }`}\n          alt={original_title}\n          width=\"360\"\n        />\n        <div className={s.filmInfo}>\n          <h1>{original_title}</h1>\n          <p>User Score: {vote_average}</p>\n          <p className={s.subTitle}>Overview</p>\n          <p>{overview}</p>\n          <p className={s.subTitle}>Genres</p>\n          <p>{genres.reduce((acc, el) => [...acc, el.name], []).join(', ')}</p>\n        </div>\n      </div>\n      <div className={s.linkWrapper}>\n        <NavLink\n          className={({ isActive }) =>\n            isActive ? ['active', s.activeDetailLink].join(' ') : s.detailLink\n          }\n          to={`/movies/${id}/reviews`}\n          onClick={onLinkClick}\n        >\n          Reviews\n        </NavLink>\n        <NavLink\n          className={({ isActive }) =>\n            isActive ? ['active', s.activeDetailLink].join(' ') : s.detailLink\n          }\n          to={`/movies/${id}/credits`}\n          onClick={onLinkClick}\n        >\n          Cast\n        </NavLink>\n      </div>\n      <Suspense fallback={<p>Loading...</p>}>\n        <Routes>\n          <Route path=\"credits\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n}\n"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","Cast","lazy","Reviews","Ap","Api","MovieDetailsPage","movieId","useParams","useState","id","data","setData","page","setPage","navigate","useNavigate","getMovieDetail","onLinkClick","ev","currentTarget","classList","contains","useEffect","original_title","backdrop_path","poster_path","vote_average","overview","genres","className","s","type","onClick","src","alt","width","reduce","acc","el","name","join","isActive","to","Suspense","fallback","path","element"],"sourceRoot":""}